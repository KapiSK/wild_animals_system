# 外部サーバー開発タスク

- [x] 外部サーバーアーキテクチャの設計
  - [x] APIエンドポイントの定義 (画像受信)
  - [x] フレームワークの選定 (FastAPI)
- [/] 外部サーバーの実装 (`original_server/`)
  - [x] サーバー構成の作成
  - [x] 画像受信エンドポイントの実装 (`/upload`)
  - [x] 推論ロジックの実装 (MegaDetector v5)
    - [x] 動物検出 (MegaDetectorに変更)
    - [x] カウント
    - [x] バウンディングボックス(BB)の描画
    - [x] モデルの自動ダウンロード実装
  - [x] メール通知機能の実装
    - [x] SMTP設定
    - [x] 添付ファイル(処理済み画像)付きメール送信
  - [x] Linux運用ドキュメント作成 (README.md)
- [ ] エッジサーバー (`pi/`) の更新
  - [ ] 転送設定のために `.env` と `main.py` を確認
- [ ] 検証
  - [ ] エンドツーエンドのフロー・テスト (Pi -> External -> Email)
