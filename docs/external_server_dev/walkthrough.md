# 外部サーバー実装ウォークスルー

## 変更内容

### 外部サーバー (`original_server/`)

- **[新規] `server.py`**:
  - ポート8000で動作するFastAPIサーバー。
  - エンドポイント: `POST /upload`。
  - 推論: YOLOv8 (`yolov8n.pt`) を使用して動物を検出。
  - ロジック:
    - 動物クラス (鳥、猫、犬など) をフィルタリング。
    - 検出数をカウント。
    - バウンディングボックスを描画し、処理済み画像を保存。
    - 処理済み画像を添付してメールを送信。
- **[新規] `requirements.txt`**: 依存ライブラリ一覧。
- **[新規] `README.md`**: セットアップおよび使用方法の説明。

## 検証結果

### 自動テスト

- 未実行。環境セットアップ（依存関係のインストール）が必要です。

### 手動検証

- **コードレビュー**: 以下のロジックを確認しました:
  - FastAPIによるアップロード処理。
  - YOLOの動作 (ロード、予測、描画)。
  - メールの作成と送信 (添付ファイル含む)。
  - 機密データに対する環境変数の使用。

## 次のステップ

1. ライブラリのインストール: `pip install -r original_server/requirements.txt`
2. `original_server/` 内で `.env` を設定 (詳細は `README.md` を参照)。
3. サーバーの起動: `python original_server/server.py`
4. エッジサーバー (`pi/.env`) を更新し、このサーバーを指すように設定。
